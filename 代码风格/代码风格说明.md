# 代码风格说明  
  
## 头文件说明  

1. 头文件中适合放置接口的声明，不适合放置实现  
2. 头文件应当职责单一  
3. 头文件应向稳定的方向包含  
4. 每一个.c文件应有一个同名.h文件，用于声明需要对外公开的接口  
5. .c/.h文件禁止包含用不到的头文件  
6. 总是编写内部#include保护符（#define保护）  
7. 禁止在头文件中定义变量  
8. 只能通过包含头文件的方式使用其他.c提供的接口，禁止在.c中通过extern的方式使用外部函数接口、变量  

## 函数说明  

1. 一个函数仅完成一件功能  
2. 重复代码应该尽可能提炼成函数  
3. 可重入函数应避免使用共享变量；若需要使用，则应通过互斥手段（关中断、信号量）对其加以保护
4. 对参数的合法性检查，统一规定由接口函数负责
5. 设计高扇入，合理扇出（小于7）的函数  
*说明：扇出是指一个函数直接调用（控制）其它函数的数目，而扇入是指有多少上级函数调用它*  
6. 废弃代码（没有被调用的函数和变量)要及时清除  
7. 函数不变参数使用const  
8. 函数的参数个数不超过5个  
9. 在源文件范围内声明和定义的所有函数，除非外部可见，否则应该增加static关键字  

## 标识符命名与定义  

标识符的命名要清晰、明了，有明确含义，同时使用完整的单词或大家基本可以理解的缩写，避免使人产生误解。除了常见的通用缩写以外，不使用单词缩写，不得使用汉语拼音。尽量避免名字中出现数字编号，除非逻辑上的确需要编号  

## 文件名命名规则  

文件命名统一采用小写字符  

## 变量命名规则  

1. 全局变量应增加“g_”前缀  
2. 静态变量应增加“s_”前缀  

## 宏定义的命名规则  

1. 对于数值或者字符串等等常量的定义，建议采用全大写字母，单词之间加下划线„_‟的方式命名（枚举同样建议使用此方式定义）  
2. 除了头文件或编译开关等特殊标识定义，宏定义不能使用下划线„_‟开头和结尾  

## 变量  

1. 一个变量只用来表示一个特定功能，不能把一个变量作多种用途，即同一变量取值不同时，其代表的意义也不同  
2. 结构体功能单一；不要设计面面俱到的数据结构  
3. 不用或者少用全局变量  
*说明：单个文件内部可以使用static的全局变量，可以将其理解为类的私有成员变量。
全局变量应该是模块的私有数据，不能作用对外的接口使用，使用static类型定义，可以有效防止外部文件的非正常访问*  
4. 防止局部变量与全局变量同名  
5. 使用面向接口编程思想，通过API访问数据：如果本模块的数据需要对外部模块开放，应提供接口函数来设置、获取，同时注意全局数据的访问互斥  

## 宏

1. 除非必要，应尽可能使用函数代替宏  
